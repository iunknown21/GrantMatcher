<div class="flex flex-col items-center">
    <div class="relative w-16 h-16">
        <svg class="transform -rotate-90 w-16 h-16">
            <circle cx="32" cy="32" r="28" stroke="#e5e7eb" stroke-width="4" fill="none" />
            <circle cx="32" cy="32" r="28"
                    stroke="@GetScoreColor()"
                    stroke-width="4"
                    fill="none"
                    stroke-dasharray="@GetCircumference()"
                    stroke-dashoffset="@GetDashOffset()"
                    class="transition-all duration-500" />
        </svg>
        <div class="absolute inset-0 flex items-center justify-center">
            <span class="text-lg font-bold @GetTextColor()">@Score%</span>
        </div>
    </div>
    <span class="text-xs text-gray-600 mt-1">Match</span>
</div>

@code {
    [Parameter]
    public int Score { get; set; }

    private double GetCircumference()
    {
        return 2 * Math.PI * 28; // radius = 28
    }

    private double GetDashOffset()
    {
        var circumference = GetCircumference();
        return circumference - (Score / 100.0 * circumference);
    }

    private string GetScoreColor()
    {
        return Score switch
        {
            >= 90 => "#10b981", // green-500
            >= 75 => "#3b82f6", // blue-500
            >= 60 => "#f59e0b", // amber-500
            _ => "#ef4444"      // red-500
        };
    }

    private string GetTextColor()
    {
        return Score switch
        {
            >= 90 => "text-green-600",
            >= 75 => "text-blue-600",
            >= 60 => "text-amber-600",
            _ => "text-red-600"
        };
    }
}
